{"ast":null,"code":"import { useEffect, useState } from 'react';\nimport { useLocalStorage } from '../useLocalStorage';\nimport { useMediaQuery } from '../useMediaQuery';\nimport { useUpdateEffect } from '../useUpdateEffect';\nconst COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)';\n\nfunction useTernaryDarkMode() {\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY);\n  const [ternaryDarkMode, setTernaryDarkMode] = useLocalStorage('usehooks-ts-ternary-dark-mode', 'system');\n  const [isDarkMode, setDarkMode] = useState(isDarkOS);\n  useUpdateEffect(() => {\n    if (ternaryDarkMode === 'system') {\n      setDarkMode(isDarkOS);\n    }\n  }, [isDarkOS]);\n  useEffect(() => {\n    switch (ternaryDarkMode) {\n      case 'light':\n        setDarkMode(false);\n        break;\n\n      case 'system':\n        setDarkMode(isDarkOS);\n        break;\n\n      case 'dark':\n        setDarkMode(true);\n        break;\n    }\n  }, [ternaryDarkMode, isDarkOS]);\n\n  function toggleTernaryDarkMode() {\n    const toggleDict = {\n      light: 'system',\n      system: 'dark',\n      dark: 'light'\n    };\n    setTernaryDarkMode(prevMode => toggleDict[prevMode]);\n  }\n\n  return {\n    isDarkMode,\n    ternaryDarkMode,\n    setTernaryDarkMode,\n    toggleTernaryDarkMode\n  };\n}\n\nexport default useTernaryDarkMode;","map":{"version":3,"mappings":"AAAA,SAAmCA,SAAnC,EAA8CC,QAA9C,QAA8D,OAA9D;AAGA,SAASC,eAAT,QAAgC,oBAAhC;AAEA,SAASC,aAAT,QAA8B,kBAA9B;AAEA,SAASC,eAAT,QAAgC,oBAAhC;AAEA,MAAMC,kBAAkB,GAAG,8BAA3B;;AAUA,SAASC,kBAAT,GAA2B;EACzB,MAAMC,QAAQ,GAAGJ,aAAa,CAACE,kBAAD,CAA9B;EACA,MAAM,CAACG,eAAD,EAAkBC,kBAAlB,IACJP,eAAe,CAAkB,+BAAlB,EAAmD,QAAnD,CADjB;EAEA,MAAM,CAACQ,UAAD,EAAaC,WAAb,IAA4BV,QAAQ,CAAUM,QAAV,CAA1C;EAGAH,eAAe,CAAC,MAAK;IACnB,IAAII,eAAe,KAAK,QAAxB,EAAkC;MAChCG,WAAW,CAACJ,QAAD,CAAX;IACD;EACF,CAJc,EAIZ,CAACA,QAAD,CAJY,CAAf;EAMAP,SAAS,CAAC,MAAK;IACb,QAAQQ,eAAR;MACE,KAAK,OAAL;QACEG,WAAW,CAAC,KAAD,CAAX;QACA;;MACF,KAAK,QAAL;QACEA,WAAW,CAACJ,QAAD,CAAX;QACA;;MACF,KAAK,MAAL;QACEI,WAAW,CAAC,IAAD,CAAX;QACA;IATJ;EAWD,CAZQ,EAYN,CAACH,eAAD,EAAkBD,QAAlB,CAZM,CAAT;;EAcA,SAASK,qBAAT,GAA8B;IAC5B,MAAMC,UAAU,GAA6C;MAC3DC,KAAK,EAAE,QADoD;MAE3DC,MAAM,EAAE,MAFmD;MAG3DC,IAAI,EAAE;IAHqD,CAA7D;IAKAP,kBAAkB,CAACQ,QAAQ,IAAIJ,UAAU,CAACI,QAAD,CAAvB,CAAlB;EACD;;EAED,OAAO;IACLP,UADK;IAELF,eAFK;IAGLC,kBAHK;IAILG;EAJK,CAAP;AAMD;;AAED,eAAeN,kBAAf","names":["useEffect","useState","useLocalStorage","useMediaQuery","useUpdateEffect","COLOR_SCHEME_QUERY","useTernaryDarkMode","isDarkOS","ternaryDarkMode","setTernaryDarkMode","isDarkMode","setDarkMode","toggleTernaryDarkMode","toggleDict","light","system","dark","prevMode"],"sources":["/Users/igor_acb/BxBlue_Igor/front_end/node_modules/usehooks-ts/src/useTernaryDarkMode/useTernaryDarkMode.ts"],"sourcesContent":["import { Dispatch, SetStateAction, useEffect, useState } from 'react'\n\n// See: https://usehooks-ts.com/react-hook/use-local-storage\nimport { useLocalStorage } from '../useLocalStorage'\n// See: https://usehooks-ts.com/react-hook/use-media-query\nimport { useMediaQuery } from '../useMediaQuery'\n// See: https://usehooks-ts.com/react-hook/use-media-query\nimport { useUpdateEffect } from '../useUpdateEffect'\n\nconst COLOR_SCHEME_QUERY = '(prefers-color-scheme: dark)'\n\ntype TernaryDarkMode = 'system' | 'dark' | 'light'\ninterface UseTernaryDarkModeOutput {\n  isDarkMode: boolean\n  ternaryDarkMode: TernaryDarkMode\n  setTernaryDarkMode: Dispatch<SetStateAction<TernaryDarkMode>>\n  toggleTernaryDarkMode: () => void\n}\n\nfunction useTernaryDarkMode(): UseTernaryDarkModeOutput {\n  const isDarkOS = useMediaQuery(COLOR_SCHEME_QUERY)\n  const [ternaryDarkMode, setTernaryDarkMode] =\n    useLocalStorage<TernaryDarkMode>('usehooks-ts-ternary-dark-mode', 'system')\n  const [isDarkMode, setDarkMode] = useState<boolean>(isDarkOS)\n\n  // Update darkMode if os prefers changes\n  useUpdateEffect(() => {\n    if (ternaryDarkMode === 'system') {\n      setDarkMode(isDarkOS)\n    }\n  }, [isDarkOS])\n\n  useEffect(() => {\n    switch (ternaryDarkMode) {\n      case 'light':\n        setDarkMode(false)\n        break\n      case 'system':\n        setDarkMode(isDarkOS)\n        break\n      case 'dark':\n        setDarkMode(true)\n        break\n    }\n  }, [ternaryDarkMode, isDarkOS])\n\n  function toggleTernaryDarkMode() {\n    const toggleDict: Record<TernaryDarkMode, TernaryDarkMode> = {\n      light: 'system',\n      system: 'dark',\n      dark: 'light',\n    }\n    setTernaryDarkMode(prevMode => toggleDict[prevMode])\n  }\n\n  return {\n    isDarkMode,\n    ternaryDarkMode,\n    setTernaryDarkMode,\n    toggleTernaryDarkMode,\n  }\n}\n\nexport default useTernaryDarkMode\n"]},"metadata":{},"sourceType":"module"}
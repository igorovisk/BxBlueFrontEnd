{"ast":null,"code":"var _jsxFileName = \"/Users/igor_acb/BxBlue_Igor/front_end/src/components/form/RegisterForm.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport Button from \"../button/singleButton\";\nimport Input from \"../input/index\";\nimport styles from \"./Form.module.scss\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RegisterForm() {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [name, setName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\n  const [renderPasswordWarning, setRenderPasswordWarning] = useState(false);\n  const [isOpen, setIsOpen] = useState(false);\n  const [alreadyRegisteredEmail, setAlreadyRegisteredEmail] = useState(false);\n\n  function closeModalAndClearInputFields() {\n    setEmail(\"\");\n    setName(\"\");\n    setPassword(\"\");\n    setPasswordConfirmation(\"deposit\");\n  }\n\n  function handleEmailChange(event) {\n    setAlreadyRegisteredEmail(false);\n    setEmail(event.target.value);\n  }\n\n  const handleFormSubmit = async event => {\n    event.preventDefault();\n\n    if (password !== passwordConfirmation) {\n      setRenderPasswordWarning(true);\n      return;\n    }\n\n    const newUser = {\n      email: email,\n      name: name,\n      password: password\n    };\n\n    if (!alreadyRegisteredEmail) {\n      const addUserToDatabase = await axios.post(\"https://localhost:3000/users/\", newUser);\n      setIsOpen(true);\n      closeModalAndClearInputFields();\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      isOpen: isOpen,\n      onRequestClose: () => setIsOpen(false),\n      overlayClassName: \"react-modal-overlay\",\n      className: \"react-modal-content react-modal-content-animation \",\n      children: \"Usu\\xE1rio registrado com sucesso :D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleFormSubmit,\n      className: styles.form,\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        inputName: \"email\",\n        type: \"email\",\n        label: \"Email\",\n        value: email,\n        placeholder: \"Escolha o seu melhor email\",\n        handleChange: handleEmailChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 13\n      }, this), alreadyRegisteredEmail && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Email j\\xE1 cadastrado\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 40\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        inputName: \"username\",\n        type: \"text\",\n        label: \"Nome\",\n        value: name,\n        placeholder: \"Digite seu nome completo\",\n        handleChange: ev => setName(ev.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        inputName: \"password\",\n        type: \"password\",\n        label: \"Senha\",\n        value: password,\n        placeholder: \"Crie uma senha\",\n        handleChange: ev => setPassword(ev.target.value),\n        minLength: 6,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this), renderPasswordWarning && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Senhas n\\xE3o conferem.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 39\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        inputName: \"passwordConfirmation\",\n        type: \"password\",\n        label: \"Confirme sua senha\",\n        value: passwordConfirmation,\n        placeholder: \"Repita a sua senha criada acima\",\n        handleChange: ev => setPasswordConfirmation(ev.target.value),\n        required: true,\n        minLength: 6\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        children: \"Confirmar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RegisterForm, \"GF5oIpIJIItgs3ZJvhvVqcBNidg=\");\n\n_c = RegisterForm;\nexport default RegisterForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterForm\");","map":{"version":3,"names":["useState","Button","Input","styles","Modal","axios","RegisterForm","email","setEmail","name","setName","password","setPassword","passwordConfirmation","setPasswordConfirmation","renderPasswordWarning","setRenderPasswordWarning","isOpen","setIsOpen","alreadyRegisteredEmail","setAlreadyRegisteredEmail","closeModalAndClearInputFields","handleEmailChange","event","target","value","handleFormSubmit","preventDefault","newUser","addUserToDatabase","post","form","ev"],"sources":["/Users/igor_acb/BxBlue_Igor/front_end/src/components/form/RegisterForm.tsx"],"sourcesContent":["import { ChangeEvent, FormEvent, useState } from \"react\";\nimport Button from \"../button/singleButton\";\nimport Input from \"../input/index\";\nimport styles from \"./Form.module.scss\";\nimport Modal from \"react-modal\";\nimport axios from \"axios\";\n\nfunction RegisterForm() {\n   const [email, setEmail] = useState<string>(\"\");\n   const [name, setName] = useState<string>(\"\");\n   const [password, setPassword] = useState<string>(\"\");\n   const [passwordConfirmation, setPasswordConfirmation] = useState<string>(\"\");\n   const [renderPasswordWarning, setRenderPasswordWarning] =\n      useState<boolean>(false);\n   const [isOpen, setIsOpen] = useState<boolean>(false);\n   const [alreadyRegisteredEmail, setAlreadyRegisteredEmail] =\n      useState<boolean>(false);\n\n   function closeModalAndClearInputFields() {\n      setEmail(\"\");\n      setName(\"\");\n      setPassword(\"\");\n      setPasswordConfirmation(\"deposit\");\n   }\n\n   function handleEmailChange(event: ChangeEvent<HTMLInputElement>) {\n      setAlreadyRegisteredEmail(false);\n      setEmail(event.target.value);\n   }\n\n   const handleFormSubmit = async (event: FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n\n      if (password !== passwordConfirmation) {\n         setRenderPasswordWarning(true);\n         return;\n      }\n\n      const newUser = {\n         email: email,\n         name: name,\n         password: password,\n      };\n\n      if (!alreadyRegisteredEmail) {\n         const addUserToDatabase = await axios.post(\n            \"https://localhost:3000/users/\",\n            newUser\n         );\n\n         setIsOpen(true);\n         closeModalAndClearInputFields();\n      }\n   };\n\n   return (\n      <>\n         <Modal\n            isOpen={isOpen}\n            onRequestClose={() => setIsOpen(false)}\n            overlayClassName=\"react-modal-overlay\"\n            className=\"react-modal-content react-modal-content-animation \"\n         >\n            Usuário registrado com sucesso :D\n         </Modal>\n         <form onSubmit={handleFormSubmit} className={styles.form}>\n            <Input\n               inputName=\"email\"\n               type=\"email\"\n               label=\"Email\"\n               value={email}\n               placeholder=\"Escolha o seu melhor email\"\n               handleChange={handleEmailChange}\n               required={true}\n            ></Input>\n            {alreadyRegisteredEmail && <p>Email já cadastrado</p>}\n            <Input\n               inputName=\"username\"\n               type=\"text\"\n               label=\"Nome\"\n               value={name}\n               placeholder=\"Digite seu nome completo\"\n               handleChange={(ev: ChangeEvent<HTMLInputElement>) =>\n                  setName(ev.target.value)\n               }\n               required={true}\n            ></Input>\n            <Input\n               inputName=\"password\"\n               type=\"password\"\n               label=\"Senha\"\n               value={password}\n               placeholder=\"Crie uma senha\"\n               handleChange={(ev: ChangeEvent<HTMLInputElement>) =>\n                  setPassword(ev.target.value)\n               }\n               minLength={6}\n               required={true}\n            ></Input>\n            {renderPasswordWarning && <p>Senhas não conferem.</p>}\n            <Input\n               inputName=\"passwordConfirmation\"\n               type=\"password\"\n               label=\"Confirme sua senha\"\n               value={passwordConfirmation}\n               placeholder=\"Repita a sua senha criada acima\"\n               handleChange={(ev: ChangeEvent<HTMLInputElement>) =>\n                  setPasswordConfirmation(ev.target.value)\n               }\n               required={true}\n               minLength={6}\n            ></Input>\n            <Button type=\"submit\">Confirmar</Button>\n         </form>\n      </>\n   );\n}\n\nexport default RegisterForm;\n"],"mappings":";;;AAAA,SAAiCA,QAAjC,QAAiD,OAAjD;AACA,OAAOC,MAAP,MAAmB,wBAAnB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AACA,OAAOC,KAAP,MAAkB,aAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,YAAT,GAAwB;EAAA;;EACrB,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAS,EAAT,CAAlC;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAS,EAAT,CAAhC;EACA,MAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAS,EAAT,CAAxC;EACA,MAAM,CAACa,oBAAD,EAAuBC,uBAAvB,IAAkDd,QAAQ,CAAS,EAAT,CAAhE;EACA,MAAM,CAACe,qBAAD,EAAwBC,wBAAxB,IACHhB,QAAQ,CAAU,KAAV,CADX;EAEA,MAAM,CAACiB,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAU,KAAV,CAApC;EACA,MAAM,CAACmB,sBAAD,EAAyBC,yBAAzB,IACHpB,QAAQ,CAAU,KAAV,CADX;;EAGA,SAASqB,6BAAT,GAAyC;IACtCb,QAAQ,CAAC,EAAD,CAAR;IACAE,OAAO,CAAC,EAAD,CAAP;IACAE,WAAW,CAAC,EAAD,CAAX;IACAE,uBAAuB,CAAC,SAAD,CAAvB;EACF;;EAED,SAASQ,iBAAT,CAA2BC,KAA3B,EAAiE;IAC9DH,yBAAyB,CAAC,KAAD,CAAzB;IACAZ,QAAQ,CAACe,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;EACF;;EAED,MAAMC,gBAAgB,GAAG,MAAOH,KAAP,IAA6C;IACnEA,KAAK,CAACI,cAAN;;IAEA,IAAIhB,QAAQ,KAAKE,oBAAjB,EAAuC;MACpCG,wBAAwB,CAAC,IAAD,CAAxB;MACA;IACF;;IAED,MAAMY,OAAO,GAAG;MACbrB,KAAK,EAAEA,KADM;MAEbE,IAAI,EAAEA,IAFO;MAGbE,QAAQ,EAAEA;IAHG,CAAhB;;IAMA,IAAI,CAACQ,sBAAL,EAA6B;MAC1B,MAAMU,iBAAiB,GAAG,MAAMxB,KAAK,CAACyB,IAAN,CAC7B,+BAD6B,EAE7BF,OAF6B,CAAhC;MAKAV,SAAS,CAAC,IAAD,CAAT;MACAG,6BAA6B;IAC/B;EACH,CAvBD;;EAyBA,oBACG;IAAA,wBACG,QAAC,KAAD;MACG,MAAM,EAAEJ,MADX;MAEG,cAAc,EAAE,MAAMC,SAAS,CAAC,KAAD,CAFlC;MAGG,gBAAgB,EAAC,qBAHpB;MAIG,SAAS,EAAC,oDAJb;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADH,eASG;MAAM,QAAQ,EAAEQ,gBAAhB;MAAkC,SAAS,EAAEvB,MAAM,CAAC4B,IAApD;MAAA,wBACG,QAAC,KAAD;QACG,SAAS,EAAC,OADb;QAEG,IAAI,EAAC,OAFR;QAGG,KAAK,EAAC,OAHT;QAIG,KAAK,EAAExB,KAJV;QAKG,WAAW,EAAC,4BALf;QAMG,YAAY,EAAEe,iBANjB;QAOG,QAAQ,EAAE;MAPb;QAAA;QAAA;QAAA;MAAA,QADH,EAUIH,sBAAsB,iBAAI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAV9B,eAWG,QAAC,KAAD;QACG,SAAS,EAAC,UADb;QAEG,IAAI,EAAC,MAFR;QAGG,KAAK,EAAC,MAHT;QAIG,KAAK,EAAEV,IAJV;QAKG,WAAW,EAAC,0BALf;QAMG,YAAY,EAAGuB,EAAD,IACXtB,OAAO,CAACsB,EAAE,CAACR,MAAH,CAAUC,KAAX,CAPb;QASG,QAAQ,EAAE;MATb;QAAA;QAAA;QAAA;MAAA,QAXH,eAsBG,QAAC,KAAD;QACG,SAAS,EAAC,UADb;QAEG,IAAI,EAAC,UAFR;QAGG,KAAK,EAAC,OAHT;QAIG,KAAK,EAAEd,QAJV;QAKG,WAAW,EAAC,gBALf;QAMG,YAAY,EAAGqB,EAAD,IACXpB,WAAW,CAACoB,EAAE,CAACR,MAAH,CAAUC,KAAX,CAPjB;QASG,SAAS,EAAE,CATd;QAUG,QAAQ,EAAE;MAVb;QAAA;QAAA;QAAA;MAAA,QAtBH,EAkCIV,qBAAqB,iBAAI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAlC7B,eAmCG,QAAC,KAAD;QACG,SAAS,EAAC,sBADb;QAEG,IAAI,EAAC,UAFR;QAGG,KAAK,EAAC,oBAHT;QAIG,KAAK,EAAEF,oBAJV;QAKG,WAAW,EAAC,iCALf;QAMG,YAAY,EAAGmB,EAAD,IACXlB,uBAAuB,CAACkB,EAAE,CAACR,MAAH,CAAUC,KAAX,CAP7B;QASG,QAAQ,EAAE,IATb;QAUG,SAAS,EAAE;MAVd;QAAA;QAAA;QAAA;MAAA,QAnCH,eA+CG,QAAC,MAAD;QAAQ,IAAI,EAAC,QAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA/CH;IAAA;MAAA;MAAA;MAAA;IAAA,QATH;EAAA,gBADH;AA6DF;;GA7GQnB,Y;;KAAAA,Y;AA+GT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}
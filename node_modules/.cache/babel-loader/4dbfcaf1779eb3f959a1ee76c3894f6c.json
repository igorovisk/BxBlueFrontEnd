{"ast":null,"code":"import { useEffect, useRef } from 'react';\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect';\n\nfunction useEventListener(eventName, handler, element, options) {\n  const savedHandler = useRef(handler);\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(() => {\n    const targetElement = element?.current || window;\n\n    if (!(targetElement && targetElement.addEventListener)) {\n      return;\n    }\n\n    const eventListener = event => savedHandler.current(event);\n\n    targetElement.addEventListener(eventName, eventListener, options);\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element, options]);\n}\n\nexport default useEventListener;","map":{"version":3,"mappings":"AAAA,SAAoBA,SAApB,EAA+BC,MAA/B,QAA6C,OAA7C;AAGA,SAASC,yBAAT,QAA0C,8BAA1C;;AA6BA,SAASC,gBAAT,CAKEC,SALF,EAMEC,OANF,EASEC,OATF,EAUEC,OAVF,EAU6C;EAG3C,MAAMC,YAAY,GAAGP,MAAM,CAACI,OAAD,CAA3B;EAEAH,yBAAyB,CAAC,MAAK;IAC7BM,YAAY,CAACC,OAAb,GAAuBJ,OAAvB;EACD,CAFwB,EAEtB,CAACA,OAAD,CAFsB,CAAzB;EAIAL,SAAS,CAAC,MAAK;IAEb,MAAMU,aAAa,GAAeJ,OAAO,EAAEG,OAAT,IAAoBE,MAAtD;;IACA,IAAI,EAAED,aAAa,IAAIA,aAAa,CAACE,gBAAjC,CAAJ,EAAwD;MACtD;IACD;;IAGD,MAAMC,aAAa,GAAmBC,KAAK,IAAIN,YAAY,CAACC,OAAb,CAAqBK,KAArB,CAA/C;;IAEAJ,aAAa,CAACE,gBAAd,CAA+BR,SAA/B,EAA0CS,aAA1C,EAAyDN,OAAzD;IAGA,OAAO,MAAK;MACVG,aAAa,CAACK,mBAAd,CAAkCX,SAAlC,EAA6CS,aAA7C;IACD,CAFD;EAGD,CAhBQ,EAgBN,CAACT,SAAD,EAAYE,OAAZ,EAAqBC,OAArB,CAhBM,CAAT;AAiBD;;AAED,eAAeJ,gBAAf","names":["useEffect","useRef","useIsomorphicLayoutEffect","useEventListener","eventName","handler","element","options","savedHandler","current","targetElement","window","addEventListener","eventListener","event","removeEventListener"],"sources":["/Users/igor_acb/BxBlue_Igor/front_end/node_modules/usehooks-ts/src/useEventListener/useEventListener.ts"],"sourcesContent":["import { RefObject, useEffect, useRef } from 'react'\n\n// See: https://usehooks-ts.com/react-hook/use-isomorphic-layout-effect\nimport { useIsomorphicLayoutEffect } from '../useIsomorphicLayoutEffect'\n\n// Window Event based useEventListener interface\nfunction useEventListener<K extends keyof WindowEventMap>(\n  eventName: K,\n  handler: (event: WindowEventMap[K]) => void,\n  element?: undefined,\n  options?: boolean | AddEventListenerOptions,\n): void\n\n// Element Event based useEventListener interface\nfunction useEventListener<\n  K extends keyof HTMLElementEventMap,\n  T extends HTMLElement = HTMLDivElement,\n>(\n  eventName: K,\n  handler: (event: HTMLElementEventMap[K]) => void,\n  element: RefObject<T>,\n  options?: boolean | AddEventListenerOptions,\n): void\n\n// Document Event based useEventListener interface\nfunction useEventListener<K extends keyof DocumentEventMap>(\n  eventName: K,\n  handler: (event: DocumentEventMap[K]) => void,\n  element: RefObject<Document>,\n  options?: boolean | AddEventListenerOptions,\n): void\n\nfunction useEventListener<\n  KW extends keyof WindowEventMap,\n  KH extends keyof HTMLElementEventMap,\n  T extends HTMLElement | void = void,\n>(\n  eventName: KW | KH,\n  handler: (\n    event: WindowEventMap[KW] | HTMLElementEventMap[KH] | Event,\n  ) => void,\n  element?: RefObject<T>,\n  options?: boolean | AddEventListenerOptions,\n) {\n  // Create a ref that stores handler\n  const savedHandler = useRef(handler)\n\n  useIsomorphicLayoutEffect(() => {\n    savedHandler.current = handler\n  }, [handler])\n\n  useEffect(() => {\n    // Define the listening target\n    const targetElement: T | Window = element?.current || window\n    if (!(targetElement && targetElement.addEventListener)) {\n      return\n    }\n\n    // Create event listener that calls handler function stored in ref\n    const eventListener: typeof handler = event => savedHandler.current(event)\n\n    targetElement.addEventListener(eventName, eventListener, options)\n\n    // Remove event listener on cleanup\n    return () => {\n      targetElement.removeEventListener(eventName, eventListener)\n    }\n  }, [eventName, element, options])\n}\n\nexport default useEventListener\n"]},"metadata":{},"sourceType":"module"}